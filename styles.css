:root{
  --bg: #F4F7F6;
  --accent: #CFEAD9;
  --text: #111827;
  --muted: #6b7280;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:linear-gradient(180deg,var(--bg),#fff);color:var(--text)}
.visually-hidden{position:absolute;left:-9999px}
.center{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:32px}
.big-btn{
  display:inline-block;padding:18px 34px;border-radius:16px;background:#FFF1E6;border:none;text-decoration:none;color:#222;font-weight:700;font-size:20px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);
}
.small{color:var(--muted);font-size:14px}
.toolbar{
  display:flex;align-items:center;gap:12px;padding:12px 16px;background:transparent;position:sticky;top:0;z-index:20;
}
.small-btn{
  padding:8px 10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff;font-weight:600;cursor:pointer;
}
.tools{display:flex;gap:8px;align-items:center;margin-left:8px;flex-wrap:wrap}
.tool{display:inline-flex;align-items:center;gap:6px;font-size:14px;color:var(--muted)}
#colorPicker{width:44px;height:38px;padding:0;border-radius:8px;border:1px solid #eee}
#pickerBottom{width:44px;height:38px;padding:0;border-radius:8px;border:1px solid #eee}
#sizeRange{width:110px}

/* Palette styles */
.palette-container {
    width: min(1000px, 96vw);
    margin: 12px auto;
    text-align: center;
    padding: 6px 12px;
}
.palette-title { font-weight:700; color:var(--muted); margin-bottom:8px; }
.palette-row {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    margin-bottom: 10px;
}
.color-box {
    width: 28px;
    height: 28px;
    border-radius: 6px;
    border: 1px solid rgba(0,0,0,0.12);
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    transition: transform 0.12s ease, box-shadow 0.12s ease;
}
.color-box:hover { transform: scale(1.12); box-shadow: 0 6px 18px rgba(0,0,0,0.08); }
.picker-row { margin-top: 8px; display:flex; justify-content:center; gap:10px; align-items:center; }

/* Canvas container */
.canvas-wrap{
  width: min(1000px, 96vw);
  /* height is controlled by JS to keep 800x600 aspect ratio */
  margin: 12px auto 48px auto;
  position:relative;
  border-radius:12px;
  background: #fff;
  box-shadow: 0 14px 60px rgba(10,10,10,0.06);
  overflow:hidden;
}

/* Stack canvases exactly; keep paint below outline */
.canvas-wrap canvas{
  position:absolute;
  left:0;
  top:0;
  width:100%;
  height:100%;
  display:block;
  touch-action: none;
}

/* paint canvas (user draws here) - below outlines */
#paintCanvas{ z-index:1; }

/* outline canvas (SVG contours) - stays above, but does not capture pointer events */
#outlineCanvas{ z-index:2; pointer-events: none; }

/* small responsive tweak */
@media (max-width:600px){
  .big-btn{padding:14px 22px;font-size:18px}
  #sizeRange{width:90px}
  .color-box{width:24px;height:24px}
}
#canvasContainer {
    position: relative;
    width: 700px;
    height: 500px;
    margin: 0 auto;
}

#paintCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 700px !important;   /* фиксировано */
    height: 500px !important;  /* фиксировано */
    image-rendering: pixelated;
}

#lineArt {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;   /* SVG можно масштабировать */
    height: 100%;
    pointer-events: none;
}
